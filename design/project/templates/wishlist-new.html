{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Wishlist – Mobile</title>
    <link rel="stylesheet" href="{% static 'css/wishlist-new.css' %}">
    <!-- fonts & icons -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  </head>
  <body>

    <div class="mobile-ishlist">
    <!-- app‑bar -->
    <header class="app-bar">
      <i class="fa-solid fa-arrow-left"></i>
      <div class="app-bar__title">Wishlist</div>
      <i class="fa-solid fa-cart-shopping"></i>
    </header>

    <!-- heading -->
    <section class="wishlist-heading">
      <h1>My Wishlist</h1>
      <div class="meta"><i class="fa-solid fa-lock"></i> Private • <span id="itemCount">2 items</span></div>
    </section>

    <!-- grid -->
    <main class="grid" id="productGrid">
      <!-- card template -->
      <div class="card" data-id="101">
        <img src="{% static 'img/rono/j1.png' %}" class="card__image" alt="Product" />
        <div class="card__more" data-id="101"><i class="fa-solid fa-ellipsis-vertical"></i></div>
        <div class="card__info">
          <div class="card__title">Ronaldo 2010-2014 premium Jersey</div>
          <div class="card__pricing"><span class="card__discount">↓71%</span><span class="card__orig-price">₹999</span><span class="card__final-price">₹286</span></div>
          <div class="card__rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-half-stroke"></i></div>
          <button class="card__cta" onclick="addToCart(101)">Add to Cart</button>
        </div>
      </div>

      <div class="card" data-id="102">
        <img src="{% static 'img/rono/j3.png' %}" class="card__image" alt="Product" />
        <div class="card__more" data-id="102"><i class="fa-solid fa-ellipsis-vertical"></i></div>
        <div class="card__info">
          <div class="card__title">Ronaldo 2010-2014 premium Jersey</div>
          <div class="card__pricing"><span class="card__discount">↓3%</span><span class="card__orig-price">₹445</span><span class="card__final-price">₹430</span></div>
          <div class="card__rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-regular fa-star"></i></div>
          <button class="card__cta" onclick="addToCart(102)">Add to Cart</button>
        </div>
      </div>
      <div class="card" data-id="101">
        <img src="{% static 'img/rono/j1.png' %}" class="card__image" alt="Product" />
        <div class="card__more" data-id="101"><i class="fa-solid fa-ellipsis-vertical"></i></div>
        <div class="card__info">
          <div class="card__title">Ronaldo 2010-2014 premium Jersey</div>
          <div class="card__pricing"><span class="card__discount">↓71%</span><span class="card__orig-price">₹999</span><span class="card__final-price">₹286</span></div>
          <div class="card__rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-half-stroke"></i></div>
          <button class="card__cta" onclick="addToCart(101)">Add to Cart</button>
        </div>
      </div>

      <div class="card" data-id="102">
        <img src="{% static 'img/rono/j3.png' %}" class="card__image" alt="Product" />
        <div class="card__more" data-id="102"><i class="fa-solid fa-ellipsis-vertical"></i></div>
        <div class="card__info">
          <div class="card__title">Ronaldo 2010-2014 premium Jersey</div>
          <div class="card__pricing"><span class="card__discount">↓3%</span><span class="card__orig-price">₹445</span><span class="card__final-price">₹430</span></div>
          <div class="card__rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-regular fa-star"></i></div>
          <button class="card__cta" onclick="addToCart(102)">Add to Cart</button>
        </div>
      </div>
      <div class="card" data-id="101">
        <img src="{% static 'img/rono/j1.png' %}" class="card__image" alt="Product" />
        <div class="card__more" data-id="101"><i class="fa-solid fa-ellipsis-vertical"></i></div>
        <div class="card__info">
          <div class="card__title">Ronaldo 2010-2014 premium Jersey</div>
          <div class="card__pricing"><span class="card__discount">↓71%</span><span class="card__orig-price">₹999</span><span class="card__final-price">₹286</span></div>
          <div class="card__rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-half-stroke"></i></div>
          <button class="card__cta" onclick="addToCart(101)">Add to Cart</button>
        </div>
      </div>

      <div class="card" data-id="102">
        <img src="{% static 'img/rono/j3.png' %}" class="card__image" alt="Product" />
        <div class="card__more" data-id="102"><i class="fa-solid fa-ellipsis-vertical"></i></div>
        <div class="card__info">
          <div class="card__title">Ronaldo 2010-2014 premium Jersey</div>
          <div class="card__pricing"><span class="card__discount">↓3%</span><span class="card__orig-price">₹445</span><span class="card__final-price">₹430</span></div>
          <div class="card__rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-regular fa-star"></i></div>
          <button class="card__cta" onclick="addToCart(102)">Add to Cart</button>
        </div>
      </div>
    </main>

    <!-- overlay & sheet -->
    <div class="overlay" id="overlay"></div>
    <div class="bottom-sheet" id="bottomSheet">
      {% comment %} <div class="sheet-option" id="saveOpt"><i class="fa-solid fa-plus"></i> Save to other collections</div> {% endcomment %}
      <div class="sheet-option" id="removeOpt"><i class="fa-solid fa-trash"></i> Remove from collection</div>
    </div>
</div>

    <script>
      let selectedId = null;
      const overlay   = document.getElementById('overlay');
      const sheet     = document.getElementById('bottomSheet');
      const saveOpt   = document.getElementById('saveOpt');
      const removeOpt = document.getElementById('removeOpt');

      // open sheet & store id
      document.querySelectorAll('.card__more').forEach(btn => {
        btn.addEventListener('click', e => {
          selectedId = e.currentTarget.dataset.id;
          overlay.classList.add('show');
          sheet.classList.add('show');
        });
      });
      // close helpers
      const closeSheet = () => {overlay.classList.remove('show');sheet.classList.remove('show');selectedId=null;};
      overlay.addEventListener('click', closeSheet);

      // actions
      saveOpt.addEventListener('click', () => {
        if(!selectedId) return;
        // call your API here, e.g. fetch(`/wishlist/${selectedId}/save`, {method:'POST'})
        alert(`saved product ${selectedId} (demo)`);
        closeSheet();
      });

      removeOpt.addEventListener('click', () => {
        if(!selectedId) return;
        // call your API here, then remove from DOM
        document.querySelector(`.card[data-id='${selectedId}']`)?.remove();
        alert(`removed product ${selectedId} (demo)`);
        closeSheet();
      });

      // addToCart demo
      function addToCart(id){
        alert(`added ${id} to cart (demo)`);
      }
    </script>
  </body>
</html>
