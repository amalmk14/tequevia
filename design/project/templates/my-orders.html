{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Orders</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/my-orders.css' %}">
</head>
<body>

{% include "navbar.html" %}

<div class="container py-4">

  <!-- Order Card -->
  <div class="order-card" onclick="toggleExpand(this)">
    <div class="status-badge">Delivered</div>
    <div class="row g-3 align-items-center">
      <div class="col-auto">
        <img src="{% static 'img/rono/j1.png' %}" alt="Product" class="img-fluid">
      </div>
      <div class="col">
        <div class="order-title">Portugal Jersey</div>
        <div class="order-color">Color: Black | Size: M</div>
      </div>
      <div class="col-auto text-end d-none d-md-block">
        <div class="price-tag">â‚¹345</div>
      </div>
      <div class="col-12 col-md-3 text-md-end mt-3 mt-md-0">
        <div class="order-status"><span class="dot"></span> Delivered on Jul 10, 2024</div>
        <div class="order-status-sub">Your item has been delivered</div>
      </div>
    </div>

    <div class="d-md-none mt-2">
      <div class="price-tag">â‚¹345</div>
    </div>

    <!-- Expand Section -->
    <div class="expand-section">
      <strong>Delivery Details</strong>
      <div>
        Home<br>
        THAYIL(HO) CHORODE(PO) VATAKARA Chorode,<br>
        Near savory restaurant, Kozhikode District, Kerala 673106<br>
        AMAL<br>
        8089561155, 9947787353
      </div>
      <hr>
      <strong>Price Details</strong>
      <div>
        List price: â‚¹699<br>
        Selling price: â‚¹383<br>
        Shipping Charge: â‚¹43<br>
        <strong>Total Amount: â‚¹426</strong>
      </div>
      <hr>
      <strong>Delivery Timeline</strong>
       <div class="delivery-timeline">
        <div class="status-step">
          <div class="icon-line">
            <div class="check-icon">&#10003;</div>
            <div class="line"></div>
          </div>
          <div class="status-info">
            <div class="status-text">Order Confirmed Jul 05, 2024</div>
          </div>
        </div>

        <div class="status-step">
          <div class="icon-line">
            <div class="check-icon">&#10003;</div>
          </div>
          <div class="status-info">
            <div class="status-text">Delivered Jul 10, 2024</div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons" onclick="event.stopPropagation()">
        <button class="action-btn size-change-btn" onclick="openSizeChangeModal(this)">
          ðŸ”„ Change Size
        </button>
        {% comment %} <button class="action-btn track-order-btn">
          ðŸ“¦ Track Order
        </button> {% endcomment %}
      </div>
    </div>
  </div>

  <!-- Additional Order Cards... -->
  <div class="order-card" onclick="toggleExpand(this)">
    <div class="status-badge">Delivered</div>
    <div class="row g-3 align-items-center">
      <div class="col-auto">
        <img src="{% static 'img/rono/j1.png' %}" alt="Product" class="img-fluid">
      </div>
      <div class="col">
        <div class="order-title">Portugal Jersey</div>
        <div class="order-color">Color: Black | Size: L</div>
      </div>
      <div class="col-auto text-end d-none d-md-block">
        <div class="price-tag">â‚¹345</div>
      </div>
      <div class="col-12 col-md-3 text-md-end mt-3 mt-md-0">
        <div class="order-status"><span class="dot"></span> Delivered on Jul 10, 2024</div>
        <div class="order-status-sub">Your item has been delivered</div>
      </div>
    </div>

    <div class="d-md-none mt-2">
      <div class="price-tag">â‚¹345</div>
    </div>

    <!-- Expand Section -->
    <div class="expand-section">
      <strong>Delivery Details</strong>
      <div>
        Home<br>
        THAYIL(HO) CHORODE(PO) VATAKARA Chorode,<br>
        Near savory restaurant, Kozhikode District, Kerala 673106<br>
        AMAL<br>
        8089561155, 9947787353
      </div>
      <hr>
      <strong>Price Details</strong>
      <div>
        List price: â‚¹699<br>
        Selling price: â‚¹383<br>
        Shipping Charge: â‚¹43<br>
        <strong>Total Amount: â‚¹426</strong>
      </div>
      <hr>
      <strong>Delivery Timeline</strong>
       <div class="delivery-timeline">
        <div class="status-step">
          <div class="icon-line">
            <div class="check-icon">&#10003;</div>
            <div class="line"></div>
          </div>
          <div class="status-info">
            <div class="status-text">Order Confirmed Jul 05, 2024</div>
          </div>
        </div>

        <div class="status-step">
          <div class="icon-line">
            <div class="check-icon">&#10003;</div>
          </div>
          <div class="status-info">
            <div class="status-text">Delivered Jul 10, 2024</div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons" onclick="event.stopPropagation()">
        <button class="action-btn size-change-btn" onclick="openSizeChangeModal(this)">
          ðŸ”„ Change Size
        </button>
        {% comment %} <button class="action-btn track-order-btn">
          ðŸ“¦ Track Order
        </button> {% endcomment %}
      </div>
    </div>
  </div>

</div>

<!-- Size Change Modal -->
<div class="size-change-modal" id="sizeChangeModal">
  <div class="size-change-form">
    <div class="form-header">
      <h4>Request Size Change</h4>
      <button class="close-btn" onclick="closeSizeChangeModal()">&times;</button>
    </div>

    <div class="product-info">
      <img id="modalProductImage" src="{% static 'img/rono/j1.png' %}" alt="Product">
      <div class="product-details">
        <h5 id="modalProductName">Portugal Jersey</h5>
        <p id="modalProductColor">Color: Black</p>
        <p id="modalCurrentSize">Current Size: M</p>
        <p id="modalOrderDate">Delivered: Jul 10, 2024</p>
      </div>
    </div>

    <form id="sizeChangeForm" onsubmit="submitSizeChange(event)">
      <div class="form-group">
        <label class="form-label">
          Reason for Size Change <span class="required">*</span>
        </label>
        <select class="form-control" id="sizeChangeReason" required>
          <option value="">Select reason</option>
          <option value="too_small">Size is too small</option>
          <option value="too_large">Size is too large</option>
          <option value="wrong_size_delivered">Wrong size was delivered</option>
          <option value="poor_fit">Poor fit/comfort</option>
          <option value="other">Other</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">
          Select New Size <span class="required">*</span>
          <a href="#" class="size-guide-link">Size Guide</a>
        </label>
        <div class="size-options">
          <div class="size-option" onclick="selectSize(this, 'XS')">XS</div>
          <div class="size-option" onclick="selectSize(this, 'S')">S</div>
          <div class="size-option" onclick="selectSize(this, 'M')">M</div>
          <div class="size-option" onclick="selectSize(this, 'L')">L</div>
          <div class="size-option" onclick="selectSize(this, 'XL')">XL</div>
          <div class="size-option" onclick="selectSize(this, 'XXL')">XXL</div>
        </div>
        <input type="hidden" id="selectedSize" required>
      </div>

      <div class="form-group">
        <label class="form-label">Additional Comments (Optional)</label>
        <textarea class="form-control" id="comments" rows="3" placeholder="Please provide any additional details about the size issue..."></textarea>
      </div>

      <div class="form-group">
        <label class="form-label">
          Contact Number <span class="required">*</span>
        </label>
        <input type="tel" class="form-control" id="contactNumber" placeholder="Enter your contact number" required>
      </div>

      <button type="submit" class="submit-btn">Submit Size Change Request</button>
    </form>

    <div style="margin-top: 16px; padding: 12px; background-color: #f0f8ff; border-radius: 6px; font-size: 13px; color: #666;">
      <strong>Note:</strong> Our team will contact you within 24 hours to arrange pickup of the current item and delivery of the new size. Size change is subject to availability.
    </div>
  </div>
</div>

{% include "footer.html" %}

<script src="{% static 'js/my-orders.js' %}"></script>

</body>
</html>